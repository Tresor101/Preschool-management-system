<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration - Super Admin</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"/>
    
    <!-- Include Shared Database System -->
    <script src="../database.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <!-- ******* ENHANCED MODERN SIDEBAR ******* -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <i class='bx bxs-crown'></i>
                    </div>
                    <div class="logo-text">
                        <span class="logo-title">Super Admin</span>
                        <span class="logo-subtitle">Management Portal</span>
                    </div>
                </div>
                <button class="sidebar-toggle" onclick="toggleSidebar()">
                    <i class='bx bx-menu'></i>
                </button>
            </div>
            
            <div class="sidebar-profile">
                <div class="profile-avatar">
                    <i class='bx bxs-user-circle'></i>
                </div>
                <div class="profile-info">
                    <span class="profile-name">Administrator</span>
                    <span class="profile-role">System Admin</span>
                </div>
                <div class="profile-status">
                    <div class="status-indicator online"></div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <span class="nav-section-title">Main Navigation</span>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="dashboard.html" class="nav-link">
                                <div class="nav-icon">
                                    <i class='bx bxs-dashboard'></i>
                                </div>
                                <span class="nav-text">Overview</span>
                                <div class="nav-indicator"></div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="user-registration.html" class="nav-link active">
                                <div class="nav-icon">
                                    <i class='bx bx-user-plus'></i>
                                </div>
                                <span class="nav-text">User Registration</span>
                                <div class="nav-indicator"></div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="user-directory.html" class="nav-link">
                                <div class="nav-icon">
                                    <i class='bx bx-group'></i>
                                </div>
                                <span class="nav-text">User Directory</span>
                                <div class="nav-indicator"></div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="school-applications.html" class="nav-link">
                                <div class="nav-icon">
                                    <i class='bx bx-file-blank'></i>
                                </div>
                                <span class="nav-text">School Applications</span>
                                <div class="nav-badge pending-count">0</div>
                                <div class="nav-indicator"></div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="student-reports.html" class="nav-link">
                                <div class="nav-icon">
                                    <i class='bx bxs-report'></i>
                                </div>
                                <span class="nav-text">Student Reports</span>
                                <div class="nav-indicator"></div>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <span class="nav-section-title">System Management</span>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="system-logs.html" class="nav-link">
                                <div class="nav-icon">
                                    <i class='bx bxs-file-doc'></i>
                                </div>
                                <span class="nav-text">System Logs</span>
                                <div class="nav-indicator"></div>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <span class="nav-section-title">Quick Actions</span>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="../index.html" class="nav-link logout-link">
                                <div class="nav-icon">
                                    <i class='bx bx-home'></i>
                                </div>
                                <span class="nav-text">Back to Home</span>
                                <div class="nav-indicator"></div>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="system-status">
                    <div class="status-item">
                        <i class='bx bx-wifi'></i>
                        <span>Online</span>
                    </div>
                    <div class="status-item">
                        <i class='bx bx-time'></i>
                        <span id="currentTime">--:--</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="content-header">
                <h1>User Registration</h1>
                <div class="user-info">
                    <span>Welcome, Super Admin</span>
                    <i class='bx bxs-user-circle'></i>
                </div>
            </div>

            <!-- Registration Content -->
            <div class="content-section">
                <!-- Registration Overview -->
                <div class="registration-overview">
                    <h3>Registration Center</h3>
                    <div class="stats-grid">
                        <div class="stat-card success">
                            <div class="stat-icon">
                                <i class='bx bxs-graduation'></i>
                            </div>
                            <div class="stat-content">
                                <h4>Students</h4>
                                <p class="stat-number" id="totalStudents">0</p>
                                <small>Registered</small>
                            </div>
                        </div>
                        <div class="stat-card info">
                            <div class="stat-icon">
                                <i class='bx bxs-briefcase'></i>
                            </div>
                            <div class="stat-content">
                                <h4>Staff</h4>
                                <p class="stat-number" id="totalStaff">0</p>
                                <small>Registered</small>
                            </div>
                        </div>
                        <div class="stat-card warning">
                            <div class="stat-icon">
                                <i class='bx bxs-user-badge'></i>
                            </div>
                            <div class="stat-content">
                                <h4>Administrators</h4>
                                <p class="stat-number" id="totalAdmins">0</p>
                                <small>Registered</small>
                            </div>
                        </div>
                        <div class="stat-card critical">
                            <div class="stat-icon">
                                <i class='bx bxs-group'></i>
                            </div>
                            <div class="stat-content">
                                <h4>Total Users</h4>
                                <p class="stat-number" id="totalUsers">0</p>
                                <small>System Wide</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab Navigation -->
                <div class="tabs">
                    <button class="tab-btn" data-tab="student">
                        <i class='bx bxs-graduation'></i> Register Student
                    </button>
                    <button class="tab-btn" data-tab="staff">
                        <i class='bx bxs-briefcase'></i> Register Teacher
                    </button>
                    <button class="tab-btn" data-tab="admin">
                        <i class='bx bxs-user-badge'></i> Register Administrator
                    </button>
                </div>

                <!-- Student Tab -->
                <div class="tab-content active" id="student-tab">
                    <h3>Student Registration</h3>
                    <form id="studentForm" class="user-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="studentFirstName">First Name *</label>
                                <input type="text" id="studentFirstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="studentLastName">Last Name *</label>
                                <input type="text" id="studentLastName" name="lastName" required>
                            </div>
                            <div class="form-group">
                                <label for="studentDOB">Date of Birth *</label>
                                <input type="date" id="studentDOB" name="dateOfBirth" required>
                            </div>
                            <div class="form-group">
                                <label for="studentGender">Gender *</label>
                                <select id="studentGender" name="gender" required>
                                    <option value="">Select Gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="studentClass">Class *</label>
                                <select id="studentClass" name="class" required>
                                    <option value="">Select Class</option>
                                    <option value="Grade 1A">Grade 1A</option>
                                    <option value="Grade 1B">Grade 1B</option>
                                    <option value="Grade 1C">Grade 1C</option>
                                    <option value="Grade 2A">Grade 2A</option>
                                    <option value="Grade 2B">Grade 2B</option>
                                    <option value="Grade 2C">Grade 2C</option>
                                    <option value="Grade 3A">Grade 3A</option>
                                    <option value="Grade 3B">Grade 3B</option>
                                    <option value="Grade 3C">Grade 3C</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="studentID">Student ID *</label>
                                <input type="text" id="studentID" name="studentId" placeholder="Auto-generated" readonly>
                            </div>
                            <div class="form-group full-width">
                                <label for="parentName">Parent/Guardian Name *</label>
                                <input type="text" id="parentName" name="parentName" required>
                            </div>
                            <div class="form-group">
                                <label for="parentPhone">Parent Phone *</label>
                                <input type="tel" id="parentPhone" name="parentPhone" required>
                            </div>
                            <div class="form-group full-width">
                                <label for="studentAddress">Address *</label>
                                <textarea id="studentAddress" name="address" required></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label for="medicalInfo">Medical Information</label>
                                <textarea id="medicalInfo" name="medicalInfo" placeholder="Any allergies, medical conditions, or special needs"></textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Register Student</button>
                            <button type="button" onclick="clearForm('studentForm')" class="btn-secondary">Clear Form</button>
                        </div>
                    </form>
                </div>

                <!-- Staff Tab -->
                <div class="tab-content" id="staff-tab">
                    <h3>Staff Registration</h3>
                    <form id="staffForm" class="user-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="staffFirstName">First Name *</label>
                                <input type="text" id="staffFirstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="staffLastName">Last Name *</label>
                                <input type="text" id="staffLastName" name="lastName" required>
                            </div>
                            <div class="form-group">
                                <label for="staffPhone">Phone *</label>
                                <input type="tel" id="staffPhone" name="phone" required>
                            </div>
                            <div class="form-group">
                                <label for="staffPosition">Position *</label>
                                <select id="staffPosition" name="position" required>
                                    <option value="">Select Position</option>
                                    <option value="teacher">Teacher</option>
                                    <option value="assistant">Assistant</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="staffDepartment">Department *</label>
                                <select id="staffDepartment" name="department" required>
                                    <option value="">Select Department</option>
                                    <option value="Education">Education</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="staffStartDate">Start Date *</label>
                                <input type="date" id="staffStartDate" name="startDate" required>
                            </div>
                            <div class="form-group">
                                <label for="staffSalary">Salary *</label>
                                <input type="number" id="staffSalary" name="salary" min="0" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="staffEmployeeID">Employee ID *</label>
                                <input type="text" id="staffEmployeeID" name="employeeId" placeholder="Auto-generated" readonly>
                            </div>
                            <div class="form-group full-width">
                                <label for="staffQualification">Qualification</label>
                                <input type="text" id="staffQualification" name="qualification" placeholder="e.g., Bachelor's in Education">
                            </div>
                            <div class="form-group full-width">
                                <label for="staffAddress">Address *</label>
                                <textarea id="staffAddress" name="address" required></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label for="staffExperience">Experience</label>
                                <textarea id="staffExperience" name="experience" placeholder="Previous work experience"></textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Register Teacher</button>
                            <button type="button" onclick="clearForm('staffForm')" class="btn-secondary">Clear Form</button>
                        </div>
                    </form>
                </div>

                <!-- Admin Tab -->
                <div class="tab-content" id="admin-tab">
                    <h3>Administrator Registration</h3>
                    <form id="adminForm" class="user-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="adminFirstName">First Name *</label>
                                <input type="text" id="adminFirstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="adminLastName">Last Name *</label>
                                <input type="text" id="adminLastName" name="lastName" required>
                            </div>
                            <div class="form-group">
                                <label for="adminPhone">Phone *</label>
                                <input type="tel" id="adminPhone" name="phone" required>
                            </div>
                            <div class="form-group">
                                <label for="adminRole">Role *</label>
                                <select id="adminRole" name="role" required>
                                    <option value="">Select Role</option>
                                    <option value="principal">Principal</option>
                                    <option value="vice-principal">Vice Principal</option>
                                    <option value="secretary">Secretary</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="adminAccessLevel">Access Level *</label>
                                <select id="adminAccessLevel" name="accessLevel" required>
                                    <option value="">Select Access Level</option>
                                    <option value="full">Full Access</option>
                                    <option value="limited">Limited Access</option>
                                    <option value="read-only">Read Only</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="adminUsername">Username *</label>
                                <input type="text" id="adminUsername" name="username" required>
                            </div>
                            <div class="form-group">
                                <label for="adminPassword">Password *</label>
                                <input type="password" id="adminPassword" name="password" required>
                            </div>
                            <div class="form-group">
                                <label for="adminEmployeeID">Employee ID *</label>
                                <input type="text" id="adminEmployeeID" name="employeeId" placeholder="Auto-generated" readonly>
                            </div>
                            <div class="form-group full-width">
                                <label>Permissions *</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" name="permissions" value="user-management"> User Management</label>
                                    <label><input type="checkbox" name="permissions" value="student-records"> Student Records</label>
                                    <label><input type="checkbox" name="permissions" value="reports"> Reports</label>
                                    <label><input type="checkbox" name="permissions" value="reports"> Reports</label>
                                </div>
                            </div>
                            <div class="form-group full-width">
                                <label for="adminAddress">Address *</label>
                                <textarea id="adminAddress" name="address" required></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label for="adminQualification">Qualification</label>
                                <input type="text" id="adminQualification" name="qualification" placeholder="e.g., Master's in Education Administration">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Register Administrator</button>
                            <button type="button" onclick="clearForm('adminForm')" class="btn-secondary">Clear Form</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="js/user-registration.js"></script>
    
    <!-- Enhanced Sidebar JavaScript -->
    <script>
        // Enhanced Sidebar functionality
        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const isCollapsed = sidebar.classList.toggle('collapsed');
            
            // Save state in localStorage
            localStorage.setItem('sidebarCollapsed', isCollapsed);
        }

        // Initialize sidebar state from localStorage
        function initializeSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
            
            if (isCollapsed) {
                sidebar.classList.add('collapsed');
            }
        }

        // Update current time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', { 
                hour12: false,
                hour: '2-digit',
                minute: '2-digit'
            });
            const timeElement = document.getElementById('currentTime');
            if (timeElement) {
                timeElement.textContent = timeString;
            }
        }

        // Update pending applications count
        function updatePendingCount() {
            const pendingCountElement = document.querySelector('.pending-count');
            if (pendingCountElement) {
                // This would typically fetch from your backend/database
                const pendingCount = 0; // Replace with actual pending count
                pendingCountElement.textContent = pendingCount;
                pendingCountElement.style.display = pendingCount > 0 ? 'block' : 'none';
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeSidebar();
            updateTime();
            updatePendingCount();
            
            // Update time every minute
            setInterval(updateTime, 60000);
            
            // Update pending count every 5 minutes
            setInterval(updatePendingCount, 300000);
        });
    </script>
</body>
</html>